(function(h){"use strict";var d=d||{};d.init=function(){d.$body=h(document.body),d.$window=h(window),d.$header=h("#masthead");this.postsFeaturedCarousel();this.postsLatestCarousel();this.blogFilterAjax();this.blogLoadingAjax();this.addWishlist();this.addCompare();this.productThumbnailsSlider();this.productLoopATCForm();this.productQuickView();this.productLoaded();this.toggleModals();this.instanceSearch();this.windowLoad();this.ajaxCounter();this.productQuantity();this.reviewProduct();this.productLightBox();this.addToCartSingleAjax();this.buyNow();this.openMiniCartPanel();this.cartPageQuantity();this.updateQuantityAuto();this.accountOrder();this.loginPanel();this.closeCampaignbar();this.navSmartDot();this.toggleOffCanvas();this.inputNumber();this.stickyHeader();this.menuSideBar();this.recentlyViewedProducts();this.inlineStyle()};d.postsFeaturedCarousel=function(){if(typeof Swiper==="undefined"){return}var e=h(".durotan-featured-posts-carousel"),t={loop:true,autoplay:false,delay:800,speed:1e3,watchOverflow:true,lazy:false,effect:"fade",fadeEffect:{crossFade:true},pagination:{el:e.find(".swiper-pagination"),type:"bullets",clickable:true},on:{init:function(){e.css("opacity",1)}}};new Swiper(e,t);if(e.hasClass("swiper-container-horizontal")){e.removeClass("swiper-container-horizontal")}};d.postsLatestCarousel=function(){if(typeof Swiper==="undefined"){return}var e=h(".durotan-latest-posts-carousel"),t={slidesPerView:2,slidesPerGroup:2,spaceBetween:60,loop:false,autoplay:false,delay:800,speed:1e3,watchOverflow:true,lazy:false,navigation:{nextEl:e.find(".durotan-posts-button-next"),prevEl:e.find(".durotan-posts-button-prev")},fadeEffect:{crossFade:true},on:{init:function(){e.css("opacity",1)}},breakpoints:{0:{slidesPerView:1,slidesPerGroup:1,spaceBetween:10},480:{slidesPerView:1,slidesPerGroup:1,spaceBetween:10},600:{slidesPerView:2,slidesPerGroup:1,spaceBetween:15},992:{slidesPerView:2,slidesPerGroup:1,spaceBetween:60}}};new Swiper(e,t)};d.blogFilterAjax=function(){d.$body.find(".durotan-posts-header__taxs-list").on("click","a",function(e){e.preventDefault();var t=h(this),a=t.attr("href");d.$body.trigger("durotan_blog_filter_ajax",a,h(this));d.$body.on("durotan_ajax_filter_request_success",function(e,t){h(this).addClass("selected")})});d.$body.on("durotan_blog_filter_ajax",function(e,t){var a=h(".durotan-posts-list"),o=h(".durotan-posts-header__taxs-list");h(".durotan-loading__background").addClass("show");if("?"==t.slice(-1)){t=t.slice(0,-1)}t=t.replace(/%2C/g,",");history.pushState(null,null,t);if(d.ajaxXHR){d.ajaxXHR.abort()}d.ajaxXHR=h.get(t,function(e){a.replaceWith(h(e).find(".durotan-posts-list"));o.html(h(e).find(".durotan-posts-header__taxs-list").html());h(".durotan-loading__background").removeClass("show");h(".durotan-posts-list .blog-wrapper").addClass("animated durotanFadeInUp");d.$body.trigger("durotan_ajax_filter_request_success",[e,t])},"html")})};d.blogLoadingAjax=function(){d.$body.on("click","#durotan-blog-previous-ajax a",function(e){e.preventDefault();if(h(this).data("requestRunning")){return}h(this).data("requestRunning",true);var t=h(this).closest("#primary"),n=t.find(".durotan-posts-list"),i=h(this).parents(".load-navigation");i.addClass("loading");h.get(h(this).attr("href"),function(e){var t=h(e).find(".durotan-posts-list").children(".blog-wrapper");if(t.length==0){t=h(e).find(".durotan-posts-list").children(".post")}var a=h(e).find(".load-navigation").html();i.addClass("loading");i.html(a);n.append(t);i.find("a").data("requestRunning",false);for(var o=0;o<t.length;o++){h(t[o]).css("animation-delay",o*100+"ms")}t.addClass("durotanFadeInUp");i.removeClass("loading")})})};d.addWishlist=function(){d.$body.on("click",".yith-wcwl-add-to-wishlist a",function(){h(this).addClass("loading")});d.$body.on("added_to_wishlist",function(e){e.preventDefault();h("ul.products li.product .yith-wcwl-add-button a").removeClass("loading")})};d.addCompare=function(){var n="";d.$body.on("click","a.compare:not(.added)",function(e){e.preventDefault();var t=h(this);n=h(this);t.addClass("loading");t.closest(".product-loop_buttons").find(".compare:not(.loading)").trigger("click");var a=false;if(h(this).hasClass("added")){a=true}if(a===false){var o=d.$header.find(".mini-compare-counter").html();o=parseInt(o,10)+1;setTimeout(function(){d.$header.find(".mini-compare-counter").html(o);t.removeClass("loading")},2e3)}});d.$body.on("yith_woocompare_open_popup",function(){h(".yith_woocompare_colorbox #cboxClose").text("");h(".yith_woocompare_colorbox #cboxClose").append('<span class="durotan-svg-icon"><svg viewBox="0 0 64 64"><path d="M34.1,32L63.6,2.6c0.6-0.6,0.6-1.5,0-2.1c-0.6-0.6-1.5-0.6-2.1,0L32,29.9L2.6,0.4C2-0.1,1-0.1,0.4,0.4C-0.1,1-0.1,2,0.4,2.6L29.9,32L0.4,61.4c-0.6,0.6-0.6,1.5,0,2.1C0.7,63.9,1.1,64,1.5,64s0.8-0.1,1.1-0.4L32,34.1l29.4,29.4c0.3,0.3,0.7,0.4,1.1,0.4s0.8-0.1,1.1-0.4c0.6-0.6,0.6-1.5,0-2.1L34.1,32z"/></svg></span>');if(n.hasClass("added")){n.html('<span class="durotan-svg-icon"><svg viewBox="0 0 32 32"><path d="M31.766 13.834c-0.312-0.312-0.819-0.312-1.131 0l-1.838 1.838c-0.082-3.296-1.405-6.383-3.745-8.724-2.418-2.418-5.632-3.749-9.051-3.749-4.759 0-9.098 2.616-11.323 6.826-0.206 0.391-0.057 0.875 0.333 1.081s0.875 0.057 1.081-0.333c1.948-3.685 5.745-5.974 9.909-5.974 6.063 0 11.016 4.843 11.194 10.863l-1.829-1.829c-0.312-0.312-0.819-0.312-1.131 0s-0.312 0.819 0 1.131l3.2 3.2c0.156 0.156 0.361 0.234 0.566 0.234s0.409-0.078 0.566-0.234l3.2-3.2c0.312-0.312 0.312-0.819 0-1.131zM26.99 20.893c-0.391-0.206-0.875-0.057-1.081 0.333-1.948 3.685-5.745 5.974-9.909 5.974-6.063 0-11.016-4.843-11.194-10.863l1.829 1.829c0.156 0.156 0.361 0.234 0.566 0.234s0.409-0.078 0.566-0.234c0.312-0.312 0.312-0.819 0-1.131l-3.2-3.2c-0.312-0.312-0.819-0.312-1.131 0l-3.2 3.2c-0.312 0.312-0.312 0.819 0 1.131s0.819 0.312 1.131 0l1.838-1.838c0.082 3.297 1.405 6.383 3.745 8.724 2.418 2.418 5.632 3.749 9.051 3.749 4.759 0 9.098-2.616 11.323-6.826 0.206-0.391 0.057-0.875-0.333-1.081zM16.8 20.8c-0.442 0-0.8-0.358-0.8-0.8v-7.2h-0.8c-0.442 0-0.8-0.358-0.8-0.8s0.358-0.8 0.8-0.8h1.6c0.442 0 0.8 0.358 0.8 0.8v8c0 0.442-0.358 0.8-0.8 0.8z"></path></svg></span><span class="loop_button-text">'+n.text()+"</span>")}});h(document).find(".compare-list").on("click",".remove a",function(e){e.preventDefault();var t=h(".mini-compare-counter",window.parent.document).html();t=parseInt(t,10)-1;if(t<0){t=0}h(".mini-compare-counter",window.parent.document).html(t);h("a.compare").removeClass("loading")});h(".yith-woocompare-widget").on("click","li a.remove",function(e){e.preventDefault();var t=d.$header.find(".mini-compare-counter").html();t=parseInt(t,10)-1;if(t<0){t=0}setTimeout(function(){d.$header.find(".mini-compare-counter").html(t)},2e3)});h(".yith-woocompare-widget").on("click","a.clear-all",function(e){e.preventDefault();setTimeout(function(){d.$header.find(".mini-compare-counter").html("0")},2e3)})};d.productThumbnailsSlider=function(){var e=d.$body.find("ul.products .product-thumbnails--slider"),t={loop:false,autoplay:false,speed:800,watchOverflow:true,lazy:true,pagination:{el:".swiper-pagination",clickable:true,renderBullet:function(e,t){return'<span class="'+t+'">'+(e+1)+"</span>"}},breakpoints:{}};e.find(".woocommerce-loop-product__link").addClass("swiper-slide");d.$body.find("ul.products").imagesLoaded(function(){setTimeout(function(){e.each(function(){t.navigation={nextEl:h(this).find(".durotan-product-loop-swiper-next"),prevEl:h(this).find(".durotan-product-loop-swiper-prev")};new Swiper(h(this),t)})},200);setTimeout(function(){d.$body.find(".durotan-shop-content").removeClass("loading")},400)})};d.productLoopATCForm=function(){d.$body.on("change",'input[name="variation_id"]',function(e){var t=h(this).val(),a=h(this).parent().find('input[name="product_id"]').val(),o,n;h.ajax({url:durotanData.ajax_url.toString().replace("%%endpoint%%","durotan_product_loop_form"),type:"POST",data:{nonce:durotanData.nonce,variation_id:t,product_id:a},beforeSend:function(){d.$body.find('input[value="'+a+'"]').closest("li.product").find(".price").removeClass("show-price");d.$body.find('input[value="'+a+'"]').closest("li.product").find(".price .price-html-variation").remove()},success:function(e){o=d.$body.find('input[value="'+t+'"]').closest("li.product").find(".product-thumbnail a:first-child .product-loop__variation--image");n=d.$body.find('input[value="'+a+'"]').closest("li.product").find(".product-thumbnail a:first-child .product-loop__variation--image");if(e.data){o.closest(".product-thumbnail").find(".swiper-pagination > span:first-child").click();o.html(e.data[0].variation);o.closest("li.product").find(".price").addClass("show-price");o.closest("li.product").find(".price").append('<span class="price-html-variation" style="display: flex;">'+e.data[0].price_variation+"</span>")}else{n.html("");o.closest("li.product").find(".price").removeClass("show-price");n.closest("li.product").find(".price .price-html-variation").remove()}}})});d.$body.on("click","a.product_type_variable",function(e){if(h(this).closest("li.product").find(".variations_form .single_add_to_cart_button").length>0){e.preventDefault();h(this).closest("li.product").find(".variations_form .single_add_to_cart_button").trigger("click")}});d.$body.on("click","li.product .variations_form .single_add_to_cart_button",function(e){e.preventDefault();var t=h(this),a=t.closest(".variations_form"),o=t.closest("li.product").find("a.product_type_variable");if(h(this).is(".disabled")){return}d.addToCartFormAJAX(t,a,o);return false})};d.addToCartSingleAjax=function(){var e=h("div.product, .durotan-sticky-add-to-cart");if(e.length<1){return}if(!e.hasClass("product-add-to-cart-ajax")){return}e.find("form.cart").on("click",".single_add_to_cart_button",function(e){var t=h(this),a=t.closest("form.cart");if(t.closest(".product").hasClass("product-type-external")){return}if(t.hasClass("has-buy-now")){return}if(t.is(".disabled")){return}if(a.length>0){e.preventDefault()}else{return}d.addToCartFormAJAX(t,a,t)})};d.buyNow=function(){d.$body.on("click","form.cart .durotan-buy-now-button",function(e){e.preventDefault();var t=h(this).closest("form.cart"),a=t.find('[type="submit"]'),o=h(this).is(":disabled");if(o){h("html, body").animate({scrollTop:a.offset().top-200},900)}else{t.append('<input type="hidden" value="1" name="durotan_buy_now" />');t.find(".single_add_to_cart_button").addClass("has-buy-now");t.find(".single_add_to_cart_button").trigger("click")}})};d.addToCartFormAJAX=function(t,e,a){if(t.data("requestRunning")){return}t.data("requestRunning",true);var o=false;if(a.hasClass("loading")){return}a.addClass("loading");if(o){return}o=true;var n=e.serializeArray(),i=e.attr("action");if(t.val()!=""){n.push({name:t.attr("name"),value:t.val()})}h(document.body).trigger("adding_to_cart",[t,n]);h.ajax({url:i,method:"post",data:n,error:function(){window.location=i},success:function(e){if(!e){window.location=i}if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}if(h(e).find(".woocommerce-message").length>0){h(document.body).trigger("wc_fragment_refresh")}t.data("requestRunning",false);t.removeClass("loading");a.removeClass("loading");if(t.closest(".quick-view-modal").length>0){t.closest(".quick-view-modal").removeClass("loading loaded open");h(document.body).removeAttr("style").removeClass("modal-opened quick-view-modal-opened body-modals")}o=false}})};d.productQuickView=function(){h(document.body).on("click",".quick-view-button",function(e){e.preventDefault();var t=h(this),a=t.data("id"),o=h("#quick-view-modal"),i=o.find(".woocommerce"),n=durotanData.ajax_url.toString().replace("%%endpoint%%","product_quick_view");o.addClass("loading").removeClass("loaded");i.find(".product").html("");h.post(n,{action:"durotan_get_product_quickview",product_id:a},function(e){i.find(".product").replaceWith(e.data);if(e.success){r()}o.removeClass("loading").addClass("loaded");d.addToCartSingleAjax();d.$body.trigger("durotan_product_quick_view_loaded");if(i.find(".deal-expire-countdown").length>0){h(document.body).trigger("durotan_countdown",[h(".deal-expire-countdown")])}});function r(){var e=i.find(".product"),t=e.find(".woocommerce-product-gallery"),a=e.find(".variations_form"),o=e.find(".size-guide-modal");if(o.length){i.siblings(".size-guide-modal").remove();o.insertAfter(i)}t.on("click",".woocommerce-product-gallery__image a",function(e){e.preventDefault()});t.removeAttr("style");if(t.find(".woocommerce-product-gallery__wrapper").children().length>1){t.addClass("swiper-container");t.find(".woocommerce-product-gallery__wrapper").addClass("swiper-wrapper");t.find(".woocommerce-product-gallery__image").addClass("swiper-slide");t.after('<span class="durotan-svg-icon durotan-quickview-button-prev durotan-swiper-button"><svg\tviewBox="0 0 64 64"><path d="M19.8,32.7c-0.4-0.4-0.4-1,0-1.4L47.1,2.5C47.6,1.9,47.6,1,47,0.4s-1.6-0.5-2.1,0.1L17.6,29.2c-1.4,1.5-1.4,4,0,5.5 l27.3,28.8c0.3,0.3,0.7,0.5,1.1,0.5c0.4,0,0.7-0.1,1-0.4c0.6-0.6,0.6-1.5,0.1-2.1L19.8,32.7z"/></svg></span>');t.after('<span class="durotan-svg-icon durotan-quickview-button-next durotan-swiper-button"><svg viewBox="0 0 64 64"><path d="M46.4,29.2L19.1,0.5c-0.6-0.6-1.5-0.6-2.1-0.1c-0.6,0.6-0.6,1.5-0.1,2.1l27.3,28.8c0.4,0.4,0.4,1,0,1.4L16.9,61.5c-0.6,0.6-0.5,1.6,0.1,2.1c0.3,0.3,0.7,0.4,1,0.4c0.4,0,0.8-0.2,1.1-0.5l27.3-28.8C47.8,33.2,47.8,30.8,46.4,29.2z"/></svg></span>');t.after('<div class="durotan-product-pagination"></div>');var n={loop:false,autoplay:false,speed:800,watchOverflow:true,navigation:{nextEl:".durotan-quickview-button-next",prevEl:".durotan-quickview-button-prev"},pagination:{el:".durotan-product-pagination",type:"bullets",clickable:true},on:{init:function(){t.css("opacity",1)}}};t.imagesLoaded(function(){new Swiper(t,n)})}if(typeof wc_add_to_cart_variation_params!=="undefined"){a.find("td.value select").each(function(){h(this).on("change",function(){var e=h(this).find("option:selected").text();h(this).closest("tr").find("td.label .durotan-attr-value").html(e);h(this).closest("tr").find("td.label .durotan-attr-value").data("value",h(this).find("option:selected").val());if((h(this).closest(".variation-selector.hidden").length||h(this).closest(".wcboost-variation-swatches").length)&&h(this).closest(".entry-summary").length){h(this).closest("tr").find("td.label").show()}}).trigger("change")});a.each(function(){h(this).wc_variation_form()})}if(typeof h.fn.tawcvs_variation_swatches_form!=="undefined"){a.tawcvs_variation_swatches_form()}if(typeof h.fn.wcboost_variation_swatches!=="undefined"){a.wcboost_variation_swatches()}}})};d.toggleModals=function(){h(document.body).on("click",'[data-toggle="modal"]',function(e){var t="#"+h(this).data("target");if(h(t).hasClass("open")){d.closeModal(t)}else if(d.openModal(t)){e.preventDefault()}}).on("click",".modal__button-close, .modal__backdrop",function(e){e.preventDefault();d.closeModal(this)}).on("keyup",function(e){if(e.keyCode===27){d.closeModal()}})};d.openModal=function(e){var t=h(e);if(!t.length){return false}t.fadeIn();t.addClass("open");var a=window.innerWidth-document.documentElement.clientWidth;h(document.body).css({"padding-right":a,overflow:"hidden"});h(".header-transparent .site-header,.durotan-sticky-add-to-cart").css({right:a});h(document.body).addClass("modal-opened "+t.attr("id")+"-opened").trigger("durotan_modal_opened",[t]);h("body").addClass("body-modals");return true};d.closeModal=function(e){if(!e){h(".modal").removeClass("open").fadeOut(150);h(".modal").each(function(){var e=h(this);if(!e.hasClass("open")){return}e.removeClass("open").fadeOut(150);h(document.body).removeClass(e.attr("id")+"-opened")})}else{e=h(e).closest(".modal");e.removeClass("open").fadeOut();h(document.body).removeClass(e.attr("id")+"-opened")}h(document.body).removeAttr("style");h(".header-transparent .site-header").removeAttr("style");h(document.body).removeClass("modal-opened").trigger("durotan_modal_closed",[e]);h("body").removeClass("body-modals")};d.instanceSearch=function(){if(durotanData.header_ajax_search!="1"){return}var l=h("#search-modal, .header-search-form");var u=null,f={},p=l.find("form");l.on("keyup",".search-field",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}if(u){u.abort()}l.find(".result-list-found, .result-list-not-found").html("");l.find(".search-result__label").addClass("not-found");var a=h(this).closest(".form-search");h(".durotan-loading__background").addClass("show");a.removeClass("searching searched actived found-products found-no-product invalid-length");o(a)}).on("click",".durotan-product-cats_search__taxs-list a",function(){h(".durotan-product-cats_search__taxs-list li").removeClass("active");h(this).parent().addClass("active");p.removeClass("actived");h(".durotan-loading__background").addClass("show");if(u){u.abort()}var e=h(this).attr("data-catslug");if(e==undefined){e=0}p.find('input[name="product_cat"]').val(e);l.find(".result-list-found").html("");l.find(".search-result__label").addClass("not-found");var t=h(this).closest(".form-search");o(t);return false}).on("click",".search-reset",function(){if(u){u.abort()}p.removeClass("searching actived found-products found-no-product invalid-length");l.find(".result-list-found").html("");l.find(".search-result__label").addClass("not-found")}).on("click",".modal__button-close",function(){if(u){u.abort()}h(".durotan-product-cats_search__taxs-list li").removeClass("active");h(".durotan-product-cats_search__taxs-list li:first-child").addClass("active");p.removeClass("searching actived found-products found-no-product invalid-length");p.find(".search-field").val("");l.find(".result-list-found").html("");l.find(".search-result__label").addClass("not-found")});h(document).on("click",function(e){if(h("#search-modal").find(".form-search").hasClass("actived")){return}var t=e.target;if(h(t).closest(".products-search").length<1){p.removeClass("searching actived found-products found-no-product invalid-length")}});function o(a){var e=a.find("input.search-field"),t=e.val(),o=0,n=a.parent().find(".search-result__items");if(l.hasClass("search-modal")){n=l.find(".search-result__items")}if(a.find(".durotan-product-cats_search__taxs-list").length>0){o=a.find(".durotan-product-cats_search__taxs-list .active a").attr("data-catslug")}if(t.trim().length<2){a.removeClass("searching found-products found-no-product").addClass("invalid-length");h(".durotan-loading__background").removeClass("show");return}a.removeClass("found-products found-no-product").addClass("searching");var i=t+o,r=p.attr("action")+"?"+p.serialize();if(i in f){var s=f[i];a.removeClass("searching");a.addClass("found-products");n.html(s.products);h(document.body).trigger("durotan_ajax_search_request_success",[n]);a.removeClass("invalid-length");a.addClass("searched actived");h(".durotan-loading__background").removeClass("show")}else{var d={term:t,cat:o,ajax_search_number:durotanData.header_search_number,search_type:durotanData.search_content_type},c=durotanData.ajax_url.toString().replace("%%endpoint%%","durotan_instance_search_form");u=h.post(c,d,function(e){var t=e.data;a.removeClass("searching");a.addClass("found-products");n.html(t);a.removeClass("invalid-length");h(document.body).trigger("durotan_ajax_search_request_success",[n]);f[i]={found:true,products:t};n.find(".search-result__view-more a").attr("href",r);h(".durotan-loading__background").removeClass("show");a.addClass("searched actived")})}}};d.windowLoad=function(){h(window).load(function(){h(".durotan-product-cats_search__taxs-list li").removeClass("active");h(".durotan-product-cats_search__taxs-list li:first-child").addClass("active");if(durotanData.footer_parallax==1){var e=h(".site-footer").outerHeight();d.$body.css("padding-bottom",e);if(d.$body.hasClass("footer-has-parallax")){var t=h(".site-header").height(),a=h(".page-header").height();d.$window.on("scroll",function(){if(d.$window.scrollTop()>t+a){h(".site-footer").addClass("active")}else{h(".site-footer").removeClass("active")}})}}});h(window).on("load resize",function(){if(durotanData.product_loop_layout!=3){return}var e=h(".product-loop-layout-3 li.product");h(e).each(function(){var e=h(this).find("form.variations_form").outerHeight();h(this).find("form.variations_form").closest(".woocommerce-details").css("transform","translateY(-"+e+"px)")})})};d.ajaxCounter=function(){h(document).on("added_to_wishlist removed_from_wishlist",function(){var e=durotanData.ajax_url.toString().replace("%%endpoint%%","update_wishlist_count");h.get(e,function(e){h(".header-wishlist__counter").html(e.count)})})};d.closeCampaignbar=function(){d.$body.on("click",".durotan-close-campaign-bar",function(){h(this).closest(".durotan-campaign-bar").slideUp()})};d.navSmartDot=function(){var e=h(".site-header"),t=h(".primary-menu",e),a=h("ul.menu",t);if(!d.$body.hasClass("header-has-smart-dot")){return}if(!a.length){return}a.append('<li class="durotan-menu-item__dot"></li>');var o=h(".durotan-menu-item__dot"),n=a.children(),i=a.children("li.current-menu-item");if(i.length==0){i=a.children("li.current-menu-parent");if(i.length==0){i=a.children("li.menu-item-has-children")}if(i.length==0){i=a.children("li.current_page_parent")}if(i.length==0){i=a.children("li").first()}}var r=i.position().left+i.outerWidth()/2-o.outerWidth()/2;o.data("left",r).css("left",r);n.mouseover(function(){var e=h(this),t=e.position().left+e.outerWidth()/2-o.outerWidth()/2;o.css("left",t)});n.mouseleave(function(){var e=i.position().left+i.outerWidth()/2-o.outerWidth()/2;o.css("left",e)});n.on("click",function(){var e=i.position().left+i.outerWidth()/2-o.outerWidth()/2;o.data("left",e).css("left",e)})};d.toggleOffCanvas=function(){h(document.body).on("click",'[data-toggle="off-canvas"]',function(e){var t="#"+h(this).data("target");if(h(t).hasClass("open")){d.closeOffCanvas(t)}else if(d.openOffCanvas(t)){e.preventDefault()}h(this).find(".hamburger-box").closest("body").find(".hamburger-box").addClass("active")}).on("click",".offscreen-panel__button-close, .offscreen-panel__backdrop",function(e){e.preventDefault();d.closeOffCanvas(this)}).on("keyup",function(e){if(e.keyCode===27){d.closeOffCanvas()}})};d.openOffCanvas=function(e){var t=h(e);if(!t.length){return false}t.fadeIn();t.addClass("open");var a=window.innerWidth-document.documentElement.clientWidth;h(document.body).css({"padding-right":a,overflow:"hidden"});h(".header-transparent .site-header").css({right:a});h(document.body).addClass("offcanvas-opened "+t.attr("id")+"-opened").trigger("durotan_off_canvas_opened",[t]);h("body").addClass("body-modals");return true};d.closeOffCanvas=function(e){if(!e){h(".offscreen-panel").each(function(){var e=h(this);if(!e.hasClass("open")){return}e.removeClass("open").fadeOut();h(document.body).removeClass(e.attr("id")+"-opened")})}else{e=h(e).closest(".offscreen-panel");e.removeClass("open").fadeOut();h(document.body).removeClass(e.attr("id")+"-opened")}h(document.body).removeAttr("style");h(".header-transparent .site-header").removeAttr("style");h(document.body).removeClass("offcanvas-opened").trigger("durotan_off_canvas_closed",[e]);h("body").removeClass("body-modals");h("body").find(".hamburger-box").removeClass("active")};d.inputNumber=function(){d.$body.on("click",".durotan-qty-button",function(e){e.preventDefault();var t=h(this),a=t.siblings(".qty"),o=0,n=parseFloat(a.attr("min")),i=parseFloat(a.attr("max")),r=parseFloat(a.attr("step"));if(a.val()!==""){o=parseFloat(a.val())}else if(a.attr("placeholder")!==""){o=parseFloat(a.attr("placeholder"))}if(t.hasClass("decrease")&&o>n){a.val(o-r);a.trigger("change")}if(t.hasClass("increase")&&o<i){a.val(o+r);a.trigger("change")}})};d.updateQuantityAuto=function(){h(document.body).on("change","table.cart .qty",function(){if(typeof durotanData.update_cart_page_auto!==undefined&&durotanData.update_cart_page_auto=="1"){d.$body.find('button[name="update_cart"]').attr("clicked","true").prop("disabled",false).attr("aria-disabled",false);d.$body.find('button[name="update_cart"]').trigger("click")}});h(document.body).on("change",".woocommerce-mini-cart .qty",function(){d.updateCartAJAX(this.value,this)})};d.updateCartAJAX=function(e,t){var a=h(t).closest(".woocommerce-mini-cart-item"),o=a.find("a.remove").data("cart_item_key"),n=a.find(".woocommerce-mini-cart-item__qty").data("nonce"),i=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","update_cart_item");if(h.fn.block){a.block({message:null,overlayCSS:{opacity:.6,background:"#fff"}})}h.post(i,{cart_item_key:o,qty:e,security:n},function(e){if(!e||!e.fragments){return}if(h.fn.unblock){a.unblock()}h(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash])}).fail(function(){if(h.fn.unblock){a.unblock()}return})};d.stickyHeader=function(){if(!d.$body.hasClass("header-sticky")){return}var n=d.$body.hasClass("header-transparent"),i=h("#site-header-minimized"),e=d.$header.find(".header__main").outerHeight(),t=d.$header.find(".header__bottom").outerHeight(),r=d.$header.find(".header__mobile").outerHeight(),s=e+t;if(d.$header.hasClass("header-bottom-no-sticky")){s=e}else if(d.$header.hasClass("header-main-no-sticky")){s=t}if(d.$body.hasClass("header-v7")){s=t}if(n){d.$header.addClass("has-transparent")}d.$window.on("scroll load",function(){var e=20,t=d.$window.scrollTop(),a=d.$header.outerHeight(true),o=d.$body.outerHeight(true);e=e+a;if(o<=e+d.$window.height()){return}if(t>e){d.$header.addClass("minimized");h("#durotan-header-minimized").addClass("minimized");d.$body.addClass("sticky-minimized");if(n){d.$body.removeClass("header-transparent")}if(d.$window.width()>992){i.css("height",s)}else{i.css("height",r)}}else{d.$header.removeClass("minimized");h("#durotan-header-minimized").removeClass("minimized");d.$body.removeClass("sticky-minimized");if(n){d.$body.addClass("header-transparent")}i.removeAttr("style")}})};d.menuSideBar=function(){var e=h("#mobile-menu-modal");e.find(".nav-menu .menu-item-has-children").removeClass("active");e.find(".nav-menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><span class="durotan-svg-icon"><svg viewBox="0 0 32 32"><path d="M0 9.6c0-0.205 0.078-0.409 0.234-0.566 0.312-0.312 0.819-0.312 1.131 0l13.834 13.834 13.834-13.834c0.312-0.312 0.819-0.312 1.131 0s0.312 0.819 0 1.131l-14.4 14.4c-0.312 0.312-0.819 0.312-1.131 0l-14.4-14.4c-0.156-0.156-0.234-0.361-0.234-0.566z"></path></svg></span></span>');e.find(".click-item li.menu-item-has-children > a").on("click",function(e){e.preventDefault();h(this).closest("li").siblings().find("ul.sub-menu, ul.dropdown-submenu").slideUp();h(this).closest("li").siblings().removeClass("active");h(this).closest("li").children("ul.sub-menu, ul.dropdown-submenu").slideToggle();h(this).closest("li").toggleClass("active")})};d.productQuantity=function(){d.$body.on("click",".qty-box .increase, .qty-box .decrease",function(e){e.preventDefault();var t=h(this),a=t.siblings(".qty"),o=parseInt(a.attr("step"),10),n=parseInt(a.val(),10),i=parseInt(a.attr("min"),10),r=parseInt(a.attr("max"),10);i=i?i:0;r=r?r:n+1;if(t.hasClass("decrease")&&n>i){a.val(n-o);a.trigger("change")}if(t.hasClass("increase")&&n<r){a.val(n+o);a.trigger("change")}});d.calculateSubtotalProductGrouped();d.$body.on("change paste keyup",".woocommerce-grouped-product-list-item__quantity .qty",d.calculateSubtotalProductGrouped)};d.calculateSubtotalProductGrouped=function(){var d=0,e=h(".woocommerce_grouped_product__total").find(".subtotal");h(".woocommerce-grouped-product-list-item__quantity .qty").each(function(){var e=h(this),t=e.closest("td").find(".qty-label").data("current"),a=parseInt(e.val(),10),o=parseInt(e.attr("min"),10),n=parseInt(e.attr("max"),10);var i=o?o:1;var r=n?n:a+1;if(a<=r&&a>=i){var s=t*a;d+=parseFloat(s)}});e.html(d.toFixed(2))};d.productLightBox=function(){if(typeof wc_single_product_params==="undefined"||wc_single_product_params.photoswipe_enabled!=="1"){h(".woocommerce-product-gallery").on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault()});return false}h(".woocommerce-product-gallery").on("click",".zoomImg",function(){if(wc_single_product_params.flexslider_enabled){h(this).closest(".woocommerce-product-gallery").children(".woocommerce-product-gallery__trigger").trigger("click")}else{h(this).prev("a").trigger("click")}})};d.reviewProduct=function(){setTimeout(function(){h("#respond p.stars a").prepend('<span class="durotan-svg-icon "><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></span>')},100);d.$body.on("click",".add-review",function(e){e.preventDefault();var t=h(this).closest("#reviews");h("#review_form_wrapper",t).fadeIn();h("#comments",t).fadeOut()}).on("click",".cancel-review a",function(e){e.preventDefault();var t=h(this).closest("#reviews");h("#review_form_wrapper",t).fadeOut();h("#comments",t).fadeIn()})};d.openMiniCartPanel=function(){if(typeof durotanData.added_to_cart_notice==="undefined"){return}if(durotanData.added_to_cart_notice.added_to_cart_notice_layout!=="panel"){return}var a="";h(document.body).on("adding_to_cart",function(e,t){if(durotanData.added_to_cart_notice.added_to_cart_notice_type==="panel"){a="1"}else if(durotanData.added_to_cart_notice.added_to_cart_notice_type==="page"&&!d.$body.hasClass("header-v7")){a="2"}});h(document.body).on("added_to_cart wc_fragments_refreshed",function(){if(a==="1"){d.openModal("#cart-panel")}if(a==="2"){h("html, body").animate({scrollTop:0},800);h(".header-cart__mini-cart").css({opacity:"1",transform:"translate(0, 0)","pointer-events":"initial","z-index":"999"});setTimeout(function(){h(".header-cart__mini-cart").removeAttr("style")},3e3)}})};d.cartPageQuantity=function(){d.$body.on("click",".qty-box__cart .increase, .qty-box__cart .decrease",function(e){var t=h(this).siblings(".qty").val(),a=h(this).closest(".woocommerce-cart-form__cart-item"),o=a.find("a.remove").data("cart_item_key"),n=a.find(".product-quantity").data("nonce"),i=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","update_cart_item");h.post(i,{cart_item_key:o,qty:t,security:n},function(e){if(!e||!e.fragments){return}h(document.body).trigger("updated_wc_div");h(document.body).trigger("wc_update_cart")})});d.$body.on("change",".qty-box__cart input.qty",function(e){var t=h(this).val(),a=h(this).closest(".woocommerce-cart-form__cart-item"),o=a.find("a.remove").data("cart_item_key"),n=a.find(".product-quantity").data("nonce"),i=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","update_cart_item");h.post(i,{cart_item_key:o,qty:t,security:n},function(e){if(!e||!e.fragments){return}h(document.body).trigger("updated_wc_div");h(document.body).trigger("wc_update_cart")})})};d.accountOrder=function(){if(!d.$body.hasClass("woocommerce-account")){return}h(".woocommerce-MyAccount-navigation .woocommerce-MyAccount-navigation-link > a").append('<span class="durotan-svg-icon "><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="10" height="5" viewBox="0 0 10 5" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.50495 4.82011L0.205241 1.04856C-0.0684137 0.808646 -0.0684137 0.419663 0.205241 0.179864C0.478652 -0.0599547 0.922098 -0.0599547 1.19549 0.179864L5.00007 3.5171L8.80452 0.179961C9.07805 -0.0598577 9.52145 -0.0598577 9.79486 0.179961C10.0684 0.41978 10.0684 0.808743 9.79486 1.04866L5.49508 4.8202C5.35831 4.94011 5.17925 5 5.00009 5C4.82085 5 4.64165 4.94 4.50495 4.82011Z"/></svg></span>');h("table.my_account_orders").on("click",".item-plus",function(){h(this).closest("ul").find("li").show();h(this).closest("ul").find(".item-plus").hide()})};d.loginPanel=function(){h(document.body).on("click",".tabs-login .create-account",function(e){e.preventDefault();h(this).closest(".u-column1").fadeOut(function(){h(this).next(".u-column2").fadeIn()})}).on("click",".tabs-login .already_registered",function(e){e.preventDefault();h(this).closest(".u-column2").fadeOut(function(){h(this).prev(".u-column1").fadeIn()})})};d.productLoaded=function(){d.$body.on("durotan_products_loaded",function(e,t){var a=t.find(".variations_form");if(typeof h.fn.wc_variation_form!=="undefined"){a.each(function(){h(this).wc_variation_form()})}if(typeof h.fn.tawcvs_variation_swatches_form!=="undefined"){a.tawcvs_variation_swatches_form()}if(typeof h.fn.wcboost_variation_swatches!=="undefined"){a.wcboost_variation_swatches()}d.productThumbnailsSlider()});d.$body.on("durotan_shop_view_after_change",function(e,t){d.productThumbnailsSlider()})};d.recentlyViewedProducts=function(){var t=h("#durotan-recently-viewed-product");if(t.length<1){return}if(t.hasClass("loaded")){return}if(t.hasClass("no-ajax")){a();return}d.$window.on("scroll",function(){if(d.$body.find("#durotan-recently-viewed-product").is(":in-viewport")){e()}}).trigger("scroll");function e(){if(t.hasClass("loaded")){return}if(t.data("requestRunning")){return}t.data("requestRunning",true);var e=durotanData.ajax_url.toString().replace("%%endpoint%%","durotan_get_recently_viewed");h.post(e,function(e){t.find(".recently-products ").html(e.data);if(t.find(".product-list").hasClass("no-products")){t.addClass("no-products")}a();h(".recently-products ul.product-loop-layout-3").parent().addClass("swiper-container__extra");t.addClass("loaded");t.data("requestRunning",false);d.$body.trigger("durotan_products_loaded",[t,false])})}function a(){var e=h("#durotan-recently-viewed-product"),t=e.find("ul.products"),a=e.data("col");if(!e.length){return}t.wrap('<div class="swiper-container history-products-carousel"></div>');t.after('<div class="swiper-scrollbar"></div>');t.addClass("swiper-wrapper");t.find("li.product").addClass("swiper-slide");new Swiper(e.find(".history-products-carousel"),{loop:false,scrollbar:{el:e.find(".swiper-scrollbar"),hide:false,draggable:true},on:{init:function(){if(e.hasClass("no-ajax")){e.find(".recently-products").css("opacity",1)}}},speed:1e3,spaceBetween:50,breakpoints:{300:{slidesPerView:2,slidesPerGroup:2,spaceBetween:10},480:{slidesPerView:3,slidesPerGroup:3,spaceBetween:20},1200:{slidesPerView:a<=4?a:4,slidesPerGroup:a<=4?a:4},1400:{slidesPerView:a?a:5,slidesPerGroup:a?a:5}}})}};d.inlineStyle=function(){h(document).ready(function(){h(".related ul.product-loop-layout-3").parent().addClass("swiper-container__extra")})};h(function(){d.init()})})(jQuery);